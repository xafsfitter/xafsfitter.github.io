"use strict";(globalThis.webpackChunkxafsfitter_docs=globalThis.webpackChunkxafsfitter_docs||[]).push([[537],{2379(e,r,n){n.r(r),n.d(r,{assets:()=>l,contentTitle:()=>d,default:()=>h,frontMatter:()=>c,metadata:()=>s,toc:()=>o});const s=JSON.parse('{"id":"reference/output-files","title":"Output Files","description":"Directory Layout","source":"@site/docs/reference/output-files.md","sourceDirName":"reference","slug":"/reference/output-files","permalink":"/docs/reference/output-files","draft":false,"unlisted":false,"editUrl":"https://github.com/xafsfitter/xafsfitter.github.io/edit/main/docs/reference/output-files.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"id":"output-files","title":"Output Files","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Reference","permalink":"/docs/category/reference"},"next":{"title":"CLI Reference","permalink":"/docs/reference/cli-reference"}}');var t=n(4848),i=n(8453);const c={id:"output-files",title:"Output Files",sidebar_position:1},d="Output Files",l={},o=[{value:"Directory Layout",id:"directory-layout",level:2},{value:"<code>results.json</code>",id:"resultsjson",level:2},{value:"<code>parameters.csv</code>",id:"parameterscsv",level:2},{value:"<code>convergence.csv</code>",id:"convergencecsv",level:2},{value:"<code>k_space.csv</code>",id:"k_spacecsv",level:2},{value:"<code>r_space.csv</code>",id:"r_spacecsv",level:2},{value:"<code>fit_plot.png</code>",id:"fit_plotpng",level:2},{value:"<code>convergence_plot.png</code>",id:"convergence_plotpng",level:2},{value:"<code>session_summary.json</code> (parallel runs only)",id:"session_summaryjson-parallel-runs-only",level:2}];function a(e){const r={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r.header,{children:(0,t.jsx)(r.h1,{id:"output-files",children:"Output Files"})}),"\n",(0,t.jsx)(r.h2,{id:"directory-layout",children:"Directory Layout"}),"\n",(0,t.jsxs)(r.p,{children:["Every run creates a timestamped subdirectory inside the output folder you specify with ",(0,t.jsx)(r.code,{children:"-o"}),". A single run looks like:"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:"run_lm/\r\n\u2514\u2500\u2500 run_20260226_140508/\r\n    \u2514\u2500\u2500 lm_run_1/\r\n        \u251c\u2500\u2500 results.json\r\n        \u251c\u2500\u2500 parameters.csv\r\n        \u251c\u2500\u2500 convergence.csv\r\n        \u251c\u2500\u2500 k_space.csv\r\n        \u251c\u2500\u2500 r_space.csv\r\n        \u251c\u2500\u2500 fit_plot.png\r\n        \u2514\u2500\u2500 convergence_plot.png\n"})}),"\n",(0,t.jsxs)(r.p,{children:["A parallel/ensemble run adds a ",(0,t.jsx)(r.code,{children:"session_summary.json"})," at the timestamp level and contains one subdirectory per run:"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:"run_ga/\r\n\u2514\u2500\u2500 run_20260226_141622/\r\n    \u251c\u2500\u2500 ga_run_1/\r\n    \u2502   \u251c\u2500\u2500 results.json\r\n    \u2502   \u251c\u2500\u2500 parameters.csv\r\n    \u2502   \u251c\u2500\u2500 convergence.csv\r\n    \u2502   \u251c\u2500\u2500 k_space.csv\r\n    \u2502   \u251c\u2500\u2500 r_space.csv\r\n    \u2502   \u251c\u2500\u2500 fit_plot.png\r\n    \u2502   \u2514\u2500\u2500 convergence_plot.png\r\n    \u251c\u2500\u2500 ga_run_2/\r\n    \u2502   \u2514\u2500\u2500 ...\r\n    \u251c\u2500\u2500 ga_run_N/\r\n    \u2502   \u2514\u2500\u2500 ...\r\n    \u2514\u2500\u2500 session_summary.json\n"})}),"\n",(0,t.jsx)(r.h2,{id:"resultsjson",children:(0,t.jsx)(r.code,{children:"results.json"})}),"\n",(0,t.jsx)(r.p,{children:"The primary output file. Contains final parameter values and run metadata."}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-json",children:'{\r\n  "rfactor": 0.013,\r\n  "parameters": {\r\n    "e0": 1.2,\r\n    "delr_0": -0.012,\r\n    "sigma2_0": 0.0031,\r\n    "degen_0": 7.8,\r\n    "delr_1": 0.004,\r\n    "sigma2_1": 0.006\r\n  },\r\n  "algorithm": "ga",\r\n  "iterations": 150,\r\n  "seed": null,\r\n  "timestamp": "2026-02-26T14:16:26.196753",\r\n  "elapsed_seconds": 69.5,\r\n  "initial_rfactor": 0.087,\r\n  "improvement_percent": 85.1,\r\n  "algorithm_info": {\r\n    "type": "Genetic Algorithm",\r\n    "generations": 150,\r\n    "population_size": 60,\r\n    "elite_ratio": 0.15,\r\n    "reproduction_strategy": "mutation"\r\n  },\r\n  "convergence_history": [\r\n    { "iteration": 1, "rfactor": 0.087 },\r\n    { "iteration": 2, "rfactor": 0.064 }\r\n  ],\r\n  "config_used": { "...": "full config snapshot" },\r\n  "success": true,\r\n  "error_message": null\r\n}\n'})}),"\n",(0,t.jsxs)(r.table,{children:[(0,t.jsx)(r.thead,{children:(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.th,{children:"Field"}),(0,t.jsx)(r.th,{children:"Description"})]})}),(0,t.jsxs)(r.tbody,{children:[(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"rfactor"})}),(0,t.jsx)(r.td,{children:"Final R-factor (goodness of fit)"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"parameters"})}),(0,t.jsxs)(r.td,{children:["Flat dict of final fitted values (",(0,t.jsx)(r.code,{children:"delr_N"}),", ",(0,t.jsx)(r.code,{children:"sigma2_N"}),", ",(0,t.jsx)(r.code,{children:"degen_N"}),", ",(0,t.jsx)(r.code,{children:"e0"}),", etc.)"]})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"algorithm"})}),(0,t.jsxs)(r.td,{children:["Algorithm used (",(0,t.jsx)(r.code,{children:"lm"}),", ",(0,t.jsx)(r.code,{children:"ga"}),", ",(0,t.jsx)(r.code,{children:"pso"}),", ",(0,t.jsx)(r.code,{children:"bayesian"}),")"]})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"iterations"})}),(0,t.jsx)(r.td,{children:"Number of iterations/generations completed"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"seed"})}),(0,t.jsxs)(r.td,{children:["Random seed used (",(0,t.jsx)(r.code,{children:"null"})," if not set)"]})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"timestamp"})}),(0,t.jsx)(r.td,{children:"ISO 8601 timestamp of run completion"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"elapsed_seconds"})}),(0,t.jsx)(r.td,{children:"Wall-clock time for the run"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"initial_rfactor"})}),(0,t.jsx)(r.td,{children:"R-factor before optimisation began"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"improvement_percent"})}),(0,t.jsx)(r.td,{children:"Percentage improvement from initial to final R-factor"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"algorithm_info"})}),(0,t.jsx)(r.td,{children:"Algorithm-specific settings (population size, etc.)"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"convergence_history"})}),(0,t.jsxs)(r.td,{children:["List of ",(0,t.jsx)(r.code,{children:"{iteration, rfactor}"})," objects for every recorded step"]})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"config_used"})}),(0,t.jsx)(r.td,{children:"Full copy of the config used for this run"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"success"})}),(0,t.jsxs)(r.td,{children:[(0,t.jsx)(r.code,{children:"true"})," if the run completed without error"]})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"error_message"})}),(0,t.jsxs)(r.td,{children:["Error string if ",(0,t.jsx)(r.code,{children:"success"})," is ",(0,t.jsx)(r.code,{children:"false"}),", otherwise ",(0,t.jsx)(r.code,{children:"null"})]})]})]})]}),"\n",(0,t.jsx)(r.h2,{id:"parameterscsv",children:(0,t.jsx)(r.code,{children:"parameters.csv"})}),"\n",(0,t.jsx)(r.p,{children:"Human-readable table of final parameter values."}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:"Parameter,Value\r\ndelr_0,-0.069340\r\nsigma2_0,0.012321\r\ne0,4.112701\r\n...\n"})}),"\n",(0,t.jsx)(r.h2,{id:"convergencecsv",children:(0,t.jsx)(r.code,{children:"convergence.csv"})}),"\n",(0,t.jsx)(r.p,{children:"R-factor recorded at each iteration. Useful for plotting convergence manually."}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:"Iteration,R-factor\r\n0,1.000620e+00\r\n2000,9.959815e-01\r\n...\n"})}),"\n",(0,t.jsx)(r.admonition,{type:"note",children:(0,t.jsx)(r.p,{children:"For LM runs the iteration count reflects function evaluations; for GA/PSO it reflects generations."})}),"\n",(0,t.jsx)(r.h2,{id:"k_spacecsv",children:(0,t.jsx)(r.code,{children:"k_space.csv"})}),"\n",(0,t.jsx)(r.p,{children:"k-space data for the experimental spectrum and the model fit."}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:"k,experimental,model\r\n3.0000,-2.345769e-01,-2.253489e-02\r\n3.0500,-4.970109e-02,-1.439872e-02\r\n...\n"})}),"\n",(0,t.jsxs)(r.p,{children:["k values in \xc5\u207b\xb9; \u03c7(k) weighted by k^n where n = ",(0,t.jsx)(r.code,{children:"kweight"})," from the fitting range config."]}),"\n",(0,t.jsx)(r.h2,{id:"r_spacecsv",children:(0,t.jsx)(r.code,{children:"r_space.csv"})}),"\n",(0,t.jsx)(r.p,{children:"R-space data for the experimental spectrum and the model fit."}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{children:"r,experimental,model\r\n0.0000,1.060206e-03,3.429718e-03\r\n0.0307,1.153642e-03,3.402107e-03\r\n...\n"})}),"\n",(0,t.jsx)(r.p,{children:"R values in \xc5; columns are the Fourier-transform magnitude of \u03c7(k)."}),"\n",(0,t.jsx)(r.h2,{id:"fit_plotpng",children:(0,t.jsx)(r.code,{children:"fit_plot.png"})}),"\n",(0,t.jsx)(r.p,{children:"A two-panel figure:"}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:"Left: k\xb2\xb7\u03c7(k) \u2014 experimental (solid) vs model (dashed)"}),"\n",(0,t.jsx)(r.li,{children:"Right: |\u03c7(R)| \u2014 experimental vs model, with the fitting window shaded"}),"\n"]}),"\n",(0,t.jsx)(r.h2,{id:"convergence_plotpng",children:(0,t.jsx)(r.code,{children:"convergence_plot.png"})}),"\n",(0,t.jsx)(r.p,{children:"R-factor vs iteration number on a log scale."}),"\n",(0,t.jsxs)(r.h2,{id:"session_summaryjson-parallel-runs-only",children:[(0,t.jsx)(r.code,{children:"session_summary.json"})," (parallel runs only)"]}),"\n",(0,t.jsx)(r.p,{children:"Summary across all runs in an ensemble/parallel session."}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-json",children:'{\r\n  "timestamp": "2026-02-26T14:17:42.134656",\r\n  "session_dir": "run_ga/run_20260226_141622",\r\n  "statistics": {\r\n    "total_runs": 6,\r\n    "successful_runs": 6,\r\n    "failed_runs": 0,\r\n    "best_rfactor": 0.012,\r\n    "worst_rfactor": 0.021,\r\n    "mean_rfactor": 0.015,\r\n    "std_rfactor": 0.003,\r\n    "median_rfactor": 0.014,\r\n    "all_rfactors": [0.012, 0.014, 0.015, 0.016, 0.018, 0.021],\r\n    "best_params": {\r\n      "e0": 1.2,\r\n      "delr_0": -0.012,\r\n      "sigma2_0": 0.0031\r\n    },\r\n    "algorithms_used": ["ga"]\r\n  },\r\n  "errors": []\r\n}\n'})}),"\n",(0,t.jsxs)(r.table,{children:[(0,t.jsx)(r.thead,{children:(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.th,{children:"Field"}),(0,t.jsx)(r.th,{children:"Description"})]})}),(0,t.jsxs)(r.tbody,{children:[(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"statistics.best_rfactor"})}),(0,t.jsx)(r.td,{children:"Lowest R-factor achieved across all runs"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"statistics.worst_rfactor"})}),(0,t.jsx)(r.td,{children:"Highest R-factor across all runs"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsxs)(r.td,{children:[(0,t.jsx)(r.code,{children:"statistics.mean_rfactor"})," / ",(0,t.jsx)(r.code,{children:"std_rfactor"})]}),(0,t.jsx)(r.td,{children:"Mean and standard deviation \u2014 indicates ensemble spread"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"statistics.best_params"})}),(0,t.jsx)(r.td,{children:"Parameter values from the best-performing run"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"statistics.algorithms_used"})}),(0,t.jsx)(r.td,{children:"List of algorithms used in the session"})]}),(0,t.jsxs)(r.tr,{children:[(0,t.jsx)(r.td,{children:(0,t.jsx)(r.code,{children:"errors"})}),(0,t.jsx)(r.td,{children:"List of error messages from any failed runs"})]})]})]})]})}function h(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},8453(e,r,n){n.d(r,{R:()=>c,x:()=>d});var s=n(6540);const t={},i=s.createContext(t);function c(e){const r=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function d(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),s.createElement(i.Provider,{value:r},e.children)}}}]);