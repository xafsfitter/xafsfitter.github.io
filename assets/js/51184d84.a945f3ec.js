"use strict";(globalThis.webpackChunkxafsfitter_docs=globalThis.webpackChunkxafsfitter_docs||[]).push([[458],{3763(e,t,n){n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>d,default:()=>c,frontMatter:()=>a,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"gui/tab-path-config","title":"Tab 2 \u2014 Path Config","description":"The Path Config tab is where you define the fitting model: the k and R ranges, global parameters, and per-path parameters.","source":"@site/docs/gui/tab-path-config.md","sourceDirName":"gui","slug":"/gui/tab-path-config","permalink":"/docs/gui/tab-path-config","draft":false,"unlisted":false,"editUrl":"https://github.com/xafsfitter/xafsfitter.github.io/edit/main/docs/gui/tab-path-config.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"id":"tab-path-config","title":"Tab 2 \u2014 Path Config","sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Tab 1 \u2014 Import","permalink":"/docs/gui/tab-import"},"next":{"title":"Tab 3 \u2014 Optimization","permalink":"/docs/gui/tab-optimization"}}');var r=n(4848),s=n(8453);const a={id:"tab-path-config",title:"Tab 2 \u2014 Path Config",sidebar_position:3},d="Tab 2 \u2014 Path Config",o={},h=[{value:"Fitting Range Controls",id:"fitting-range-controls",level:2},{value:"Multi-k Weights",id:"multi-k-weights",level:3},{value:"R_bkg",id:"r_bkg",level:3},{value:"Global Parameters",id:"global-parameters",level:2},{value:"Path Selection Table",id:"path-selection-table",level:2},{value:"PathParameterConfigWidget",id:"pathparameterconfigwidget",level:2},{value:"Free Mode",id:"free-mode",level:3},{value:"Computed Mode",id:"computed-mode",level:3},{value:"Saving Configuration",id:"saving-configuration",level:2}];function l(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",img:"img",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.header,{children:(0,r.jsx)(t.h1,{id:"tab-2--path-config",children:"Tab 2 \u2014 Path Config"})}),"\n",(0,r.jsx)(t.p,{children:"The Path Config tab is where you define the fitting model: the k and R ranges, global parameters, and per-path parameters."}),"\n",(0,r.jsx)(t.h2,{id:"fitting-range-controls",children:"Fitting Range Controls"}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"Tab 2 \u2014 Fitting range section",src:n(5353).A+"",width:"1198",height:"830"})}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Control"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.strong,{children:"kmin"})}),(0,r.jsx)(t.td,{children:"Lower bound of k-range for Fourier transform (\xc5\u207b\xb9)"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.strong,{children:"kmax"})}),(0,r.jsx)(t.td,{children:"Upper bound of k-range (\xc5\u207b\xb9)"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.strong,{children:"kweight"})}),(0,r.jsx)(t.td,{children:"k-weighting exponent for Fourier transform"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.strong,{children:"dk"})}),(0,r.jsx)(t.td,{children:"Width of the k-space window sill (\xc5\u207b\xb9)"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.strong,{children:"Window"})}),(0,r.jsx)(t.td,{children:"Fourier transform window function"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.strong,{children:"Rmin"})}),(0,r.jsx)(t.td,{children:"Lower bound of R-range for fitting (\xc5)"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.strong,{children:"Rmax"})}),(0,r.jsx)(t.td,{children:"Upper bound of R-range for fitting (\xc5)"})]})]})]}),"\n",(0,r.jsx)(t.h3,{id:"multi-k-weights",children:"Multi-k Weights"}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.strong,{children:"Multi-k weights"})," field accepts a comma-separated list of k-weight values (e.g. ",(0,r.jsx)(t.code,{children:"1,2,3"}),"). This controls which k-weightings are plotted simultaneously in the chi(k) visualization panel. It is separate from the single ",(0,r.jsx)(t.strong,{children:"kweight"})," value used in the actual Fourier transform \u2014 changing multi-k weights does not affect the fit itself, only the visualization."]}),"\n",(0,r.jsx)(t.h3,{id:"r_bkg",children:"R_bkg"}),"\n",(0,r.jsxs)(t.p,{children:["The ",(0,r.jsx)(t.strong,{children:"R_bkg"})," spinbox sets the background subtraction cutoff passed to ",(0,r.jsx)(t.code,{children:"autobk"}),". It determines the maximum R-value used in the spline background fit, affecting the low-R region of chi(R). Lower values remove more low-R background; the default (1.0 \xc5) is appropriate for most cases."]}),"\n",(0,r.jsx)(t.h2,{id:"global-parameters",children:"Global Parameters"}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Parameter"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.strong,{children:"S\u2080\xb2"})}),(0,r.jsxs)(t.td,{children:["Amplitude reduction factor. Check ",(0,r.jsx)(t.strong,{children:"Vary"})," to fit it; set bounds to [0.7, 1.0] as a starting point."]})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.strong,{children:"E\u2080"})}),(0,r.jsxs)(t.td,{children:["Edge energy shift in eV. Check ",(0,r.jsx)(t.strong,{children:"Vary"})," to fit it; bounds of [\u221210, 10] are typical."]})]})]})]}),"\n",(0,r.jsx)(t.h2,{id:"path-selection-table",children:"Path Selection Table"}),"\n",(0,r.jsx)(t.p,{children:"The table lists all paths found in the FEFF directory. Check the checkbox next to each path you want to include in the fit. Unchecked paths are excluded from the model entirely."}),"\n",(0,r.jsxs)(t.p,{children:["Click a path row to open its ",(0,r.jsx)(t.strong,{children:"PathParameterConfigWidget"})," below the table."]}),"\n",(0,r.jsx)(t.h2,{id:"pathparameterconfigwidget",children:"PathParameterConfigWidget"}),"\n",(0,r.jsx)(t.p,{children:"Each path has 3 parameters: CN, \u0394R, and \u03c3\xb2. Each parameter can be set to one of two modes:"}),"\n",(0,r.jsx)(t.h3,{id:"free-mode",children:"Free Mode"}),"\n",(0,r.jsx)(t.p,{children:"The parameter is optimized directly."}),"\n",(0,r.jsx)(t.p,{children:(0,r.jsx)(t.img,{alt:"Path parameter widget \u2014 Free mode",src:n(9136).A+"",width:"1200",height:"830"})}),"\n",(0,r.jsxs)(t.table,{children:[(0,r.jsx)(t.thead,{children:(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.th,{children:"Field"}),(0,r.jsx)(t.th,{children:"Description"})]})}),(0,r.jsxs)(t.tbody,{children:[(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.strong,{children:"Vary"})}),(0,r.jsx)(t.td,{children:"Check to include this parameter in the optimization"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.strong,{children:"Value"})}),(0,r.jsx)(t.td,{children:"Initial value"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.strong,{children:"Min / Max"})}),(0,r.jsx)(t.td,{children:"Allowed bounds for the optimizer"})]}),(0,r.jsxs)(t.tr,{children:[(0,r.jsx)(t.td,{children:(0,r.jsx)(t.strong,{children:"var_name"})}),(0,r.jsx)(t.td,{children:"Optional: a name by which other parameters can reference this one"})]})]})]}),"\n",(0,r.jsx)(t.h3,{id:"computed-mode",children:"Computed Mode"}),"\n",(0,r.jsx)(t.p,{children:"The parameter value is derived from an expression referencing other variable names."}),"\n",(0,r.jsxs)(t.p,{children:["Set the ",(0,r.jsx)(t.strong,{children:"Mode"})," dropdown to ",(0,r.jsx)(t.strong,{children:"Computed"})," and enter a mathematical expression in the ",(0,r.jsx)(t.strong,{children:"Expression"})," field. The expression is evaluated using Python's ",(0,r.jsx)(t.code,{children:"math"})," module and can reference any ",(0,r.jsx)(t.code,{children:"var_name"})," defined on another parameter."]}),"\n",(0,r.jsxs)(t.p,{children:["Example: if path 1's degeneracy has ",(0,r.jsx)(t.code,{children:'var_name = "cn_1"'}),", then path 2's degeneracy can be set to ",(0,r.jsx)(t.code,{children:"8 - cn_1"})," to enforce a constraint that both shells sum to 8."]}),"\n",(0,r.jsxs)(t.p,{children:["See ",(0,r.jsx)(t.a,{href:"../configuration/constraints",children:"Constraints"})," for more examples."]}),"\n",(0,r.jsx)(t.h2,{id:"saving-configuration",children:"Saving Configuration"}),"\n",(0,r.jsxs)(t.p,{children:["Click ",(0,r.jsx)(t.strong,{children:"Save Path Configuration"})," to save the config and prepare for optimization."]}),"\n",(0,r.jsxs)(t.p,{children:["Click ",(0,r.jsx)(t.strong,{children:"Export to JSON..."})," to save the config to disk. This file can be:"]}),"\n",(0,r.jsxs)(t.ul,{children:["\n",(0,r.jsx)(t.li,{children:"Loaded again in the GUI on the next session"}),"\n",(0,r.jsxs)(t.li,{children:["Used directly with ",(0,r.jsx)(t.code,{children:"python -m xafs_cli run --config"})]}),"\n"]})]})}function c(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(l,{...e})}):l(e)}},9136(e,t,n){n.d(t,{A:()=>i});const i=n.p+"assets/images/tab_2_added_paths-d961acc114ca1a31a6e86348820ae0da.png"},5353(e,t,n){n.d(t,{A:()=>i});const i=n.p+"assets/images/tab_2_no_config-6f6bad8540c4555ea5db59f523918f93.png"},8453(e,t,n){n.d(t,{R:()=>a,x:()=>d});var i=n(6540);const r={},s=i.createContext(r);function a(e){const t=i.useContext(s);return i.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function d(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),i.createElement(s.Provider,{value:t},e.children)}}}]);