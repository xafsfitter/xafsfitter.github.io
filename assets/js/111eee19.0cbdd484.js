"use strict";(globalThis.webpackChunkxafsfitter_docs=globalThis.webpackChunkxafsfitter_docs||[]).push([[779],{9071(e,n,s){s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"reference/troubleshooting","title":"Troubleshooting","description":"Installation Issues","source":"@site/docs/reference/troubleshooting.md","sourceDirName":"reference","slug":"/reference/troubleshooting","permalink":"/docs/reference/troubleshooting","draft":false,"unlisted":false,"editUrl":"https://github.com/xafsfitter/xafsfitter.github.io/edit/main/docs/reference/troubleshooting.md","tags":[],"version":"current","sidebarPosition":3,"frontMatter":{"id":"troubleshooting","title":"Troubleshooting","sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"GUI\u2013CLI Interoperability","permalink":"/docs/reference/gui-cli-interop"}}');var i=s(4848),t=s(8453);const o={id:"troubleshooting",title:"Troubleshooting",sidebar_position:3},l="Troubleshooting",a={},d=[{value:"Installation Issues",id:"installation-issues",level:2},{value:"<code>uv</code> not found",id:"uv-not-found",level:3},{value:"Permission denied on macOS/Linux",id:"permission-denied-on-macoslinux",level:3},{value:"Data Loading Issues",id:"data-loading-issues",level:2},{value:"PRJ file not loading",id:"prj-file-not-loading",level:3},{value:"Group name not detected",id:"group-name-not-detected",level:3},{value:"Fitting Issues",id:"fitting-issues",level:2},{value:"R-factor is not decreasing",id:"r-factor-is-not-decreasing",level:3},{value:"Parameters stuck at bounds",id:"parameters-stuck-at-bounds",level:3},{value:"\u03c3\xb2 is negative",id:"\u03c3-is-negative",level:3},{value:"Memory and Performance Issues",id:"memory-and-performance-issues",level:2},{value:"Memory error with large <code>--parallel</code> count",id:"memory-error-with-large---parallel-count",level:3},{value:"Fitting is very slow",id:"fitting-is-very-slow",level:3}];function c(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"troubleshooting",children:"Troubleshooting"})}),"\n",(0,i.jsx)(n.h2,{id:"installation-issues",children:"Installation Issues"}),"\n",(0,i.jsxs)(n.h3,{id:"uv-not-found",children:[(0,i.jsx)(n.code,{children:"uv"})," not found"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Error"}),": ",(0,i.jsx)(n.code,{children:"'uv' is not recognized as an internal or external command"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Fix"}),": Install ",(0,i.jsx)(n.code,{children:"uv"})," manually:"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'# Windows (PowerShell)\r\npowershell -c "irm https://astral.sh/uv/install.ps1 | iex"\r\n\r\n# macOS/Linux\r\ncurl -LsSf https://astral.sh/uv/install.sh | sh\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Then re-run ",(0,i.jsx)(n.code,{children:"setup.bat"})," or ",(0,i.jsx)(n.code,{children:"setup_gui.sh"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"permission-denied-on-macoslinux",children:"Permission denied on macOS/Linux"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Error"}),": ",(0,i.jsx)(n.code,{children:"bash: ./setup_gui.sh: Permission denied"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Fix"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"chmod +x setup_gui.sh run_gui.sh\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"data-loading-issues",children:"Data Loading Issues"}),"\n",(0,i.jsx)(n.h3,{id:"prj-file-not-loading",children:"PRJ file not loading"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Symptom"}),": Group dropdown is empty or shows an error after selecting the PRJ file."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Possible causes"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"The file was saved with a newer version of Athena \u2014 try re-saving from Athena."}),"\n",(0,i.jsx)(n.li,{children:"The file path contains special characters \u2014 move the file to a path with no spaces or special characters."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"group-name-not-detected",children:"Group name not detected"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Symptom"}),": Group dropdown shows ",(0,i.jsx)(n.code,{children:"None"})," or the wrong group."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Fix"}),": Type the exact group name manually. Group names are case-sensitive. Open the PRJ file in Athena to confirm the exact group name."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"fitting-issues",children:"Fitting Issues"}),"\n",(0,i.jsx)(n.h3,{id:"r-factor-is-not-decreasing",children:"R-factor is not decreasing"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Possible causes"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Too few free parameters"}),": all parameters may be fixed. Check that at least one path has ",(0,i.jsx)(n.code,{children:"vary: true"})," parameters."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"k-range or R-range too wide"}),": the fit window includes regions with no signal. Narrow the ranges."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Wrong paths selected"}),": the paths you included don't match the data. Compare path distances with known crystal structure distances."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Starting values far from solution"}),": adjust initial values to be physically reasonable."]}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"parameters-stuck-at-bounds",children:"Parameters stuck at bounds"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Symptom"}),": After fitting, one or more parameters equal their ",(0,i.jsx)(n.code,{children:"min"})," or ",(0,i.jsx)(n.code,{children:"max"})," bound."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Fix"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Widen the bounds if the physical range allows it."}),"\n",(0,i.jsx)(n.li,{children:"If the parameter hits zero, check for a sign error in the model."}),"\n",(0,i.jsx)(n.li,{children:"Consider whether the parameter is actually needed (remove it and see if R-factor changes)."}),"\n"]}),"\n",(0,i.jsx)(n.h3,{id:"\u03c3-is-negative",children:"\u03c3\xb2 is negative"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Symptom"}),": Optimizer returns a negative Debye-Waller factor."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Fix"}),": Set the lower bound of \u03c3\xb2 to ",(0,i.jsx)(n.code,{children:"0.0"}),". Negative \u03c3\xb2 is unphysical and indicates an over-parameterized model."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"memory-and-performance-issues",children:"Memory and Performance Issues"}),"\n",(0,i.jsxs)(n.h3,{id:"memory-error-with-large---parallel-count",children:["Memory error with large ",(0,i.jsx)(n.code,{children:"--parallel"})," count"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Error"}),": Python MemoryError or system runs out of RAM."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Fix"}),": Reduce ",(0,i.jsx)(n.code,{children:"--parallel N"}),". Each worker uses 200\u2013500 MB. As a rule of thumb, ",(0,i.jsx)(n.code,{children:"N \u2264 (available RAM in GB) / 0.5"}),"."]}),"\n",(0,i.jsx)(n.h3,{id:"fitting-is-very-slow",children:"Fitting is very slow"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Suggestions"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Use LM first \u2014 it is much faster than GA/PSO."}),"\n",(0,i.jsx)(n.li,{children:"Reduce the number of free parameters."}),"\n",(0,i.jsx)(n.li,{children:"Narrow the k-range (each evaluation is faster with a smaller k-space)."}),"\n",(0,i.jsx)(n.li,{children:"Reduce GA population size or number of generations for a quick test."}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453(e,n,s){s.d(n,{R:()=>o,x:()=>l});var r=s(6540);const i={},t=r.createContext(i);function o(e){const n=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),r.createElement(t.Provider,{value:n},e.children)}}}]);