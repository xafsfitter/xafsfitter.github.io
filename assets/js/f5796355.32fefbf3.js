"use strict";(globalThis.webpackChunkxafsfitter_docs=globalThis.webpackChunkxafsfitter_docs||[]).push([[967],{5863(e,n,r){r.r(n),r.d(n,{assets:()=>s,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"configuration/config-format","title":"Configuration Format","description":"XAFS Fitter uses a JSON configuration file that is fully interchangeable between the GUI and CLI. A config exported from the GUI\'s Run History tab can be used directly with python -m xafs_cli run --config, and a config generated by the feff CLI command can be loaded in the GUI.","source":"@site/docs/configuration/config-format.md","sourceDirName":"configuration","slug":"/configuration/config-format","permalink":"/docs/configuration/config-format","draft":false,"unlisted":false,"editUrl":"https://github.com/xafsfitter/xafsfitter.github.io/edit/main/docs/configuration/config-format.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"id":"config-format","title":"Configuration Format","sidebar_position":1},"sidebar":"tutorialSidebar","previous":{"title":"Configuration Reference","permalink":"/docs/category/configuration-reference"},"next":{"title":"Parameters","permalink":"/docs/configuration/parameters"}}');var i=r(4848),d=r(8453);const a={id:"config-format",title:"Configuration Format",sidebar_position:1},o="Configuration Format",s={},l=[{value:"Top-Level Structure",id:"top-level-structure",level:2},{value:"<code>experimental_data</code>",id:"experimental_data",level:2},{value:"<code>fitting_range</code>",id:"fitting_range",level:2},{value:"<code>global_params</code>",id:"global_params",level:2},{value:"<code>paths</code>",id:"paths",level:2},{value:"<code>optimizer</code>",id:"optimizer",level:2},{value:"Complete Example",id:"complete-example",level:2}];function c(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,d.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"configuration-format",children:"Configuration Format"})}),"\n",(0,i.jsxs)(n.p,{children:["XAFS Fitter uses a JSON configuration file that is ",(0,i.jsx)(n.strong,{children:"fully interchangeable"})," between the GUI and CLI. A config exported from the GUI's Run History tab can be used directly with ",(0,i.jsx)(n.code,{children:"python -m xafs_cli run --config"}),", and a config generated by the ",(0,i.jsx)(n.code,{children:"feff"})," CLI command can be loaded in the GUI."]}),"\n",(0,i.jsx)(n.h2,{id:"top-level-structure",children:"Top-Level Structure"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "experimental_data": { ... },\r\n  "fitting_range": { ... },\r\n  "global_params": { ... },\r\n  "paths": [ ... ],\r\n  "optimizer": { ... }\r\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"experimental_data",children:(0,i.jsx)(n.code,{children:"experimental_data"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'"experimental_data": {\r\n  "athena_file": "/path/to/data.prj",\r\n  "group": "sample_name"\r\n}\n'})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Field"}),(0,i.jsx)(n.th,{children:"Required"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"athena_file"})}),(0,i.jsx)(n.td,{children:"Optional*"}),(0,i.jsxs)(n.td,{children:["Path to the Athena ",(0,i.jsx)(n.code,{children:".prj"})," file. *Optional if ",(0,i.jsx)(n.code,{children:"--prj"})," is provided on the CLI command line."]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"group"})}),(0,i.jsx)(n.td,{children:"Required"}),(0,i.jsx)(n.td,{children:"Name of the group within the PRJ file"})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"fitting_range",children:(0,i.jsx)(n.code,{children:"fitting_range"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'"fitting_range": {\r\n  "kmin": 3.0,\r\n  "kmax": 12.0,\r\n  "kweight": 2,\r\n  "dk": 1.0,\r\n  "window": "hanning",\r\n  "rmin": 1.0,\r\n  "rmax": 4.5,\r\n  "r_bkg": 1.0\r\n}\n'})}),"\n",(0,i.jsxs)(n.table,{children:[(0,i.jsx)(n.thead,{children:(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.th,{children:"Field"}),(0,i.jsx)(n.th,{children:"Type"}),(0,i.jsx)(n.th,{children:"Description"})]})}),(0,i.jsxs)(n.tbody,{children:[(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"kmin"})}),(0,i.jsx)(n.td,{children:"float"}),(0,i.jsx)(n.td,{children:"Lower k bound for Fourier transform (\xc5\u207b\xb9)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"kmax"})}),(0,i.jsx)(n.td,{children:"float"}),(0,i.jsx)(n.td,{children:"Upper k bound (\xc5\u207b\xb9)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"kweight"})}),(0,i.jsx)(n.td,{children:"int"}),(0,i.jsx)(n.td,{children:"k-weighting exponent"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"dk"})}),(0,i.jsx)(n.td,{children:"float"}),(0,i.jsx)(n.td,{children:"Window sill width (\xc5\u207b\xb9)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"window"})}),(0,i.jsx)(n.td,{children:"string"}),(0,i.jsxs)(n.td,{children:["Window function: ",(0,i.jsx)(n.code,{children:'"hanning"'}),", ",(0,i.jsx)(n.code,{children:'"kaiser"'}),", ",(0,i.jsx)(n.code,{children:'"parzen"'})]})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"rmin"})}),(0,i.jsx)(n.td,{children:"float"}),(0,i.jsx)(n.td,{children:"Lower R bound for fitting (\xc5)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"rmax"})}),(0,i.jsx)(n.td,{children:"float"}),(0,i.jsx)(n.td,{children:"Upper R bound (\xc5)"})]}),(0,i.jsxs)(n.tr,{children:[(0,i.jsx)(n.td,{children:(0,i.jsx)(n.code,{children:"r_bkg"})}),(0,i.jsx)(n.td,{children:"float"}),(0,i.jsxs)(n.td,{children:["Background subtraction cutoff passed to ",(0,i.jsx)(n.code,{children:"autobk"})]})]})]})]}),"\n",(0,i.jsx)(n.h2,{id:"global_params",children:(0,i.jsx)(n.code,{children:"global_params"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'"global_params": {\r\n  "s02": {\r\n    "vary": true,\r\n    "value": 0.9,\r\n    "bounds": [0.7, 1.0],\r\n    "var_name": "s02"\r\n  },\r\n  "e0": {\r\n    "vary": true,\r\n    "value": 0.0,\r\n    "bounds": [-10.0, 10.0],\r\n    "var_name": "e0"\r\n  }\r\n}\n'})}),"\n",(0,i.jsx)(n.h2,{id:"paths",children:(0,i.jsx)(n.code,{children:"paths"})}),"\n",(0,i.jsxs)(n.p,{children:["An array of path objects. Each path references a FEFF ",(0,i.jsx)(n.code,{children:".dat"})," file and defines parameters for that path."]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'"paths": [\r\n  {\r\n    "feff_file": "/path/to/feff_output/feff0001.dat",\r\n    "label": "U-O single scattering",\r\n    "include": true,\r\n    "parameters": {\r\n      "s02": {\r\n        "mode": "computed",\r\n        "expression": "s02"\r\n      },\r\n      "e0": {\r\n        "mode": "computed",\r\n        "expression": "e0"\r\n      },\r\n      "deltar": {\r\n        "mode": "free",\r\n        "vary": true,\r\n        "value": 0.0,\r\n        "bounds": [-0.5, 0.5],\r\n        "var_name": "dr_uo"\r\n      },\r\n      "sigma2": {\r\n        "mode": "free",\r\n        "vary": true,\r\n        "value": 0.003,\r\n        "bounds": [0.0, 0.02],\r\n        "var_name": "sig2_uo"\r\n      },\r\n      "degen": {\r\n        "mode": "free",\r\n        "vary": true,\r\n        "value": 8.0,\r\n        "bounds": [1.0, 12.0],\r\n        "var_name": "cn_1"\r\n      }\r\n    }\r\n  }\r\n]\n'})}),"\n",(0,i.jsx)(n.h2,{id:"optimizer",children:(0,i.jsx)(n.code,{children:"optimizer"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'"optimizer": {\r\n  "algorithm": "ga",\r\n  "generations": 100,\r\n  "population": 50\r\n}\n'})}),"\n",(0,i.jsxs)(n.p,{children:["Supported algorithm values: ",(0,i.jsx)(n.code,{children:'"lm"'}),", ",(0,i.jsx)(n.code,{children:'"ga"'}),", ",(0,i.jsx)(n.code,{children:'"pso"'}),", ",(0,i.jsx)(n.code,{children:'"bayesian"'}),"."]}),"\n",(0,i.jsx)(n.h2,{id:"complete-example",children:"Complete Example"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-json",children:'{\r\n  "experimental_data": {\r\n    "athena_file": "UO2_data.prj",\r\n    "group": "uo2_rt"\r\n  },\r\n  "fitting_range": {\r\n    "kmin": 3.0,\r\n    "kmax": 12.0,\r\n    "kweight": 2,\r\n    "dk": 1.0,\r\n    "window": "hanning",\r\n    "rmin": 1.0,\r\n    "rmax": 4.5,\r\n    "r_bkg": 1.0\r\n  },\r\n  "global_params": {\r\n    "s02": {\r\n      "vary": true,\r\n      "value": 0.9,\r\n      "bounds": [0.7, 1.0],\r\n      "var_name": "s02"\r\n    },\r\n    "e0": {\r\n      "vary": true,\r\n      "value": 0.0,\r\n      "bounds": [-10.0, 10.0],\r\n      "var_name": "e0"\r\n    }\r\n  },\r\n  "paths": [\r\n    {\r\n      "feff_file": "feff_uo2/feff0001.dat",\r\n      "label": "U-O",\r\n      "include": true,\r\n      "parameters": {\r\n        "s02": { "mode": "computed", "expression": "s02" },\r\n        "e0":  { "mode": "computed", "expression": "e0" },\r\n        "deltar": {\r\n          "mode": "free", "vary": true,\r\n          "value": 0.0, "bounds": [-0.5, 0.5], "var_name": "dr_uo"\r\n        },\r\n        "sigma2": {\r\n          "mode": "free", "vary": true,\r\n          "value": 0.003, "bounds": [0.0, 0.02], "var_name": "sig2_uo"\r\n        },\r\n        "degen": {\r\n          "mode": "free", "vary": true,\r\n          "value": 8.0, "bounds": [1.0, 12.0], "var_name": "cn_1"\r\n        }\r\n      }\r\n    }\r\n  ],\r\n  "optimizer": {\r\n    "algorithm": "lm",\r\n    "max_nfev": 1000\r\n  }\r\n}\n'})})]})}function h(e={}){const{wrapper:n}={...(0,d.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(c,{...e})}):c(e)}},8453(e,n,r){r.d(n,{R:()=>a,x:()=>o});var t=r(6540);const i={},d=t.createContext(i);function a(e){const n=t.useContext(d);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),t.createElement(d.Provider,{value:n},e.children)}}}]);